import{r as u,j as n}from"./app-DM5lWH7w.js";const X=({variants:a})=>{const[i,d]=u.useState(null),[c,m]=u.useState(null),b=e=>e.sort((s,l)=>{const t={XXS:1,XS:2,S:3,M:4,L:5,XL:6,XXL:7,"2XL":7,"3XL":8,"4XL":9};if(t[s]&&t[l])return t[s]-t[l];const r=parseFloat(s),o=parseFloat(l);return!isNaN(r)&&!isNaN(o)?r-o:s.localeCompare(l)}),{uniqueSizes:x,uniqueColors:p,variantMap:y}=u.useMemo(()=>{const e=new Set,s=new Set,l=new Map;return a==null||a.forEach(t=>{var o,f,h,S;(o=t.size)!=null&&o.name&&e.add(t.size.name),(f=t.color)!=null&&f.name&&s.add(t.color.name);const r=`${(h=t.size)==null?void 0:h.name}-${(S=t.color)==null?void 0:S.name}`;l.set(r,t)}),{uniqueSizes:b(Array.from(e)),uniqueColors:Array.from(s).sort((t,r)=>t.localeCompare(r)),variantMap:l}},[a]),g=(e,s)=>y.has(`${e}-${s}`),C=e=>x.filter(s=>g(s,e)),j=e=>p.filter(s=>g(e,s)),N=e=>{d(i===e?null:e),m(null)},w=e=>{m(c===e?null:e),d(null)};return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium mb-1",children:"Cỡ:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:x.map(e=>{const s=i===e,l=!c||C(c).includes(e);return n.jsx("button",{onClick:()=>N(e),className:`
                                    px-2 py-1 text-xs rounded-md transition-all
                                    ${s?"bg-blue-500 text-white":l?"bg-gray-100 hover:bg-gray-200":"bg-gray-50 text-gray-400 cursor-not-allowed"}
                                `,children:e},e)})})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium mb-1",children:"Màu:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:p.map(e=>{const s=c===e,l=!i||j(i).includes(e);return n.jsx("button",{onClick:()=>w(e),className:`
                                    px-2 py-1 text-xs rounded-md transition-all
                                    ${s?"bg-blue-500 text-white":l?"bg-gray-100 hover:bg-gray-200":"bg-gray-50 text-gray-400 cursor-not-allowed"}
                                `,children:e},e)})})]})]})};export{X as default};
