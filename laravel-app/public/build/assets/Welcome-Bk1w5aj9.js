import{j as t,$ as S,r as s,L as k,a as n}from"./app-DM5lWH7w.js";import{L as g}from"./Layout-DVh4xpEi.js";import"./dialog-_yQDYPAD.js";import{P as L}from"./ProductGrid-BVqQ31xF.js";import{A as C}from"./arrow-up-OkNl_Rwn.js";import"./index-o3Sz-yc3.js";import"./index-H22tECQ6.js";import"./utils-De8wPBUk.js";import"./index-v8iwHGUi.js";import"./button-D_azY7HU.js";import"./trash-2-Dy2jXSrq.js";import"./plus-DECCMGFS.js";import"./alert-cZJMHzEk.js";import"./checkbox-D22MXWb1.js";import"./index-B4EdUvDt.js";import"./index-ijvaBZ7a.js";import"./check-Ct5f1nwX.js";import"./shopping-cart-CZJG6TeG.js";import"./search-DZ4Pfh-R.js";import"./user-DrHZ__g_.js";import"./x-ToVJaZZw.js";import"./mail-CpnXhq4x.js";import"./star-NL1IKTr_.js";import"./circle-alert-DyacK_RC.js";const $=({category:e})=>t.jsxs(S,{href:`/products?category=${e.slug}`,className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow cursor-pointer overflow-hidden",children:[t.jsx("div",{className:"aspect-w-16 aspect-h-9",children:t.jsx("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),e.description&&t.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:e.description})]})]}),E=({categories:e})=>t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:e.map(o=>t.jsx($,{category:o},o.category_id))}),T=({banners:e})=>{const[o,c]=s.useState(0),[d,m]=s.useState(!1);if(s.useEffect(()=>{if(e.length<=1)return;const h=setInterval(()=>{c(a=>(a+1)%e.length)},1e4);return()=>clearInterval(h)},[e]),!e||e.length===0)return null;const r=e[o];return t.jsxs("section",{className:"relative h-[70vh] overflow-hidden",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[t.jsxs("div",{className:"absolute inset-0 transition-all duration-500",children:[t.jsx("img",{src:r.image_url,alt:r.title,className:"w-full h-full object-cover object-center"}),t.jsx("div",{className:`absolute inset-0 transition-all duration-500 ${d?"bg-black/60":"bg-transparent"}`})]}),t.jsxs("div",{className:"relative h-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:`absolute bottom-12 left-12 flex flex-col items-start text-left max-w-lg space-y-6 transition-all duration-500 transform ${d?"opacity-100 translate-y-0":"opacity-0 translate-y-12"}`,children:[t.jsx("h1",{className:"text-white text-5xl font-bold leading-tight drop-shadow-lg",children:r.title}),t.jsx("p",{className:"text-white/90 text-lg font-light drop-shadow-sm",children:r.subtitle}),t.jsx("button",{className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-medium rounded-lg shadow-lg hover:shadow-2xl hover:from-blue-600 hover:to-indigo-700 focus:ring-4 focus:ring-blue-300 transition-all duration-300 transform hover:scale-105",onClick:()=>window.location.href=r.button_link,children:r.button_text})]}),e.length>1&&t.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-3",children:e.map((h,a)=>t.jsx("button",{onClick:()=>c(a),className:`w-3 h-3 rounded-full transition-all duration-300 ${a===o?"bg-white w-6":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${a+1}`},a))})]})]})},et=()=>{const[e,o]=s.useState([]),[c,d]=s.useState([]),[m,r]=s.useState([]),[h,a]=s.useState(!0),[u,p]=s.useState([]),[f,w]=s.useState(!1);s.useEffect(()=>{(async()=>{try{const[i,b,N,y]=await Promise.all([n.get("/api/v1/banners/active"),n.get("/api/v1/categories/featured"),n.get("/api/v1/products/featured"),n.get("/wishlist")]);o(i.data),d(b.data),r(N.data),p(y.data)}catch(i){console.error("Lỗi khi tải dữ liệu:",i)}finally{a(!1)}})();const l=()=>{w(window.scrollY>300)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]);const j=async x=>{try{(await n.post(`/wishlist/toggle/${x}`)).data.added?p([...u,x]):p(u.filter(i=>i!==x))}catch(l){console.error("Lỗi khi thay đổi danh sách yêu thích:",l)}},v=()=>{window.scrollTo({top:0,behavior:"smooth"})};return h?t.jsx(g,{children:t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-neutral-300 border-t-neutral-900 animate-spin"})})}):t.jsxs(g,{children:[t.jsx(k,{title:"Trang Chủ"}),t.jsx(T,{banners:e}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("section",{className:"py-20",children:[t.jsxs("div",{className:"mb-12 text-center",children:[t.jsx("span",{className:"text-sm uppercase tracking-wider text-neutral-500",children:"Khám Phá"}),t.jsx("h2",{className:"text-3xl font-light mt-2",children:"Mua sắm theo danh mục"})]}),t.jsx(E,{categories:c})]}),t.jsxs("section",{className:"py-20 border-t border-neutral-200",children:[t.jsxs("div",{className:"mb-12 text-center",children:[t.jsx("span",{className:"text-sm uppercase tracking-wider text-neutral-500",children:"Nổi Bật"}),t.jsx("h2",{className:"text-3xl font-light mt-2",children:"Sản phẩm mới"})]}),t.jsx(L,{products:m,onToggleWishlist:j,wishlist:u.data||u})]})]}),f&&t.jsx("button",{onClick:v,className:"fixed bottom-8 right-8 p-3 bg-white/80 backdrop-blur-sm border border-neutral-200 rounded-full shadow-lg transition-all duration-300 hover:bg-white",children:t.jsx(C,{className:"w-5 h-5"})})]})};export{et as default};
