import{m as _,j as e,$ as L}from"./app-DM5lWH7w.js";import{I as n,T as d,a as r}from"./TextInput-DORfEDLv.js";import{P as w}from"./PrimaryButton-C25L6qDR.js";import{z as C}from"./transition-BKrbkYmI.js";function S({mustVerifyEmail:h,status:x,user:t,className:p="",translations:b={}}){var c,u,g,f;const{data:s,setData:l,post:v,errors:o,processing:m,recentlySuccessful:j}=_({full_name:((c=t.profile)==null?void 0:c.full_name)||"",email:t.email,phone:((u=t.profile)==null?void 0:u.phone)||"",date_of_birth:(g=t.profile)!=null&&g.date_of_birth?t.profile.date_of_birth.split("T")[0]:"",gender:((f=t.profile)==null?void 0:f.gender)||"",avatar_url:null}),y=i=>{i.preventDefault(),v(route("profile.update"),{forceFormData:!0})},a={title:"Thông tin cá nhân",description:"Cập nhật thông tin tài khoản và địa chỉ email của bạn.",fullNameLabel:"Họ và tên",emailLabel:"Địa chỉ Email",phoneLabel:"Số điện thoại",dobLabel:"Ngày sinh",genderLabel:"Giới tính",avatarLabel:"Ảnh đại diện",saveButton:"Lưu thay đổi",savingButton:"Đang lưu...",successMessage:"Lưu thành công.",genderOptions:{default:"Chọn giới tính",male:"Nam",female:"Nữ",other:"Khác"},emailVerification:{unverified:"Địa chỉ email của bạn chưa được xác minh.",resendLink:"Nhấn vào đây để gửi lại email xác minh.",linkSent:"Một liên kết xác minh mới đã được gửi đến địa chỉ email của bạn."},...b};return e.jsxs("section",{className:`${p} bg-white rounded-2xl shadow-xl p-6 md:p-8`,children:[e.jsxs("header",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:a.title}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:a.description})]}),e.jsxs("form",{onSubmit:y,className:"space-y-6",encType:"multipart/form-data",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"full_name",value:a.fullNameLabel,className:"mb-2 text-gray-700 font-medium"}),e.jsx(d,{id:"full_name",className:"w-full rounded-lg border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:s.full_name,onChange:i=>l("full_name",i.target.value),required:!0,isFocused:!0,autoComplete:"name"}),e.jsx(r,{className:"mt-2 text-sm",message:o.full_name})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",value:a.emailLabel,className:"mb-2 text-gray-700 font-medium"}),e.jsx(d,{id:"email",type:"email",className:"w-full rounded-lg border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:s.email,onChange:i=>l("email",i.target.value),required:!0,autoComplete:"email",readOnly:!0}),e.jsx(r,{className:"mt-2 text-sm",message:o.email})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",value:a.phoneLabel,className:"mb-2 text-gray-700 font-medium"}),e.jsx(d,{id:"phone",type:"tel",className:"w-full rounded-lg border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:s.phone,onChange:i=>l("phone",i.target.value),onBlur:i=>{const N=i.target.value;/^0\d{9}$/.test(N)||l("phone","")},autoComplete:"tel"}),s.phone&&!/^0\d{9}$/.test(s.phone)&&e.jsx(r,{className:"mt-2 text-sm",message:"Số điện thoại phải có 10 số và bắt đầu bằng 0."})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"date_of_birth",value:a.dobLabel,className:"mb-2 text-gray-700 font-medium"}),e.jsx(d,{id:"date_of_birth",type:"date",className:"w-full rounded-lg border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:s.date_of_birth,onChange:i=>l("date_of_birth",i.target.value)}),e.jsx(r,{className:"mt-2 text-sm",message:o.date_of_birth})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"gender",value:a.genderLabel,className:"mb-2 text-gray-700 font-medium"}),e.jsxs("select",{id:"gender",className:"w-full rounded-lg border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",value:s.gender,onChange:i=>l("gender",i.target.value),children:[e.jsx("option",{value:"",children:a.genderOptions.default}),e.jsx("option",{value:"male",children:a.genderOptions.male}),e.jsx("option",{value:"female",children:a.genderOptions.female}),e.jsx("option",{value:"other",children:a.genderOptions.other})]}),e.jsx(r,{className:"mt-2 text-sm",message:o.gender})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"avatar_url",value:a.avatarLabel,className:"mb-2 text-gray-700 font-medium"}),e.jsx("input",{id:"avatar_url",type:"file",className:`w-full text-sm text-gray-500
                                file:mr-4 file:py-2 file:px-4
                                file:rounded-full file:border-0
                                file:text-sm file:font-semibold
                                file:bg-indigo-50 file:text-indigo-700
                                hover:file:bg-indigo-100`,onChange:i=>l("avatar_url",i.target.files[0]),accept:"image/*"}),e.jsx(r,{className:"mt-2 text-sm",message:o.avatar_url})]})]}),h&&t.email_verified_at===null&&e.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg",children:[e.jsxs("p",{className:"text-yellow-700",children:[a.emailVerification.unverified,e.jsx(L,{href:route("verification.send"),method:"post",as:"button",className:"ml-2 text-indigo-600 hover:text-indigo-900 font-semibold",children:a.emailVerification.resendLink})]}),x==="verification-link-sent"&&e.jsx("div",{className:"mt-2 text-sm text-green-600",children:a.emailVerification.linkSent})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[e.jsx(C,{show:j,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-green-600",children:a.successMessage})}),e.jsx(w,{disabled:m,className:"px-6 py-2 rounded-lg transition-colors duration-300",children:m?a.savingButton:a.saveButton})]})]})]})}export{S as default};
